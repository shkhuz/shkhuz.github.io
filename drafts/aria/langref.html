<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Aria language reference</title>
<link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
<link rel="manifest" href="/assets/site.webmanifest">
<link rel=stylesheet href="/style.css">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QQS3D5BETB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QQS3D5BETB');
</script>

<script data-host="https://microanalytics.io" data-dnt="false" src="https://microanalytics.io/js/script.js" id="ZwSg9rf6GA" async defer></script>

<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

<script>
(function() {
  var h, a, f;
  a = document.getElementsByTagName('link');
  for (h = 0; h < a.length; h++) {
    f = a[h];
    if (f.rel.toLowerCase().match(/stylesheet/) && f.href) {
      var g = f.href.replace(/(&|\?)rnd=\d+/, '');
      f.href = g + (g.match(/\?/) ? '&' : '?');
      f.href += 'rnd=' + (new Date().valueOf());
    }
  } // for
})()
</script>

</head>

<body>
<article>
<h1 id="huzaifa-aria-language-reference"><a href='/'>huzaifa</a> / Aria language reference</h1>
<pre class='aria'><code><span class='k'>where</span> T;

<span class='k'>type</span> std <span class='k'>=</span> <span class='i'>@import</span>(<span class='s'>"std"</span>);

data: []T,
cap: <span class='t'>usize</span>,
len: <span class='t'>usize</span>,

<span class='k'>imm</span> default_cap <span class='k'>=</span> <span class='n'>8</span>;

<span class='k'>pub</span> <span class='k'>fn</span> new() !<span class='t'>Self</span> {
    <span class='k'>return</span> <span class='t'>Self</span> [
        .data <span class='k'>=</span> std.malloc(<span class='i'>@sizeof</span>(T) * default_cap)!,
        .cap <span class='k'>=</span> default_cap,
        .len <span class='k'>=</span> <span class='n'>0</span>,
    ];
}

<span class='k'>pub</span> <span class='k'>fn</span> from_slice(slice: []<span class='k'>imm</span> T) !<span class='t'>Self</span> {
    <span class='k'>return</span> <span class='t'>Self</span> [
        .data <span class='k'>=</span> {
            <span class='k'>mut</span> buf: *T <span class='k'>=</span> std.malloc(<span class='i'>@sizeof</span>(T) * slice.len)!;
            std.mem.cpy(buf, slice.ptr, slice.len)!;
            <span class='k'>yield</span> buf;
        },
        .cap <span class='k'>=</span> slice.len,
        .len <span class='k'>=</span> slice.len,
    ];
}
</code></pre>
<div class="code-snippet-filename">
Vec.ar
</div>
<pre class='aria'><code><span class='k'>type</span> Vec <span class='k'>=</span> <span class='i'>@import</span>(<span class='s'>"Vec.ar"</span>);

<span class='k'>fn</span> main() !<span class='t'>void</span> {
    <span class='k'>mut</span> v <span class='k'>=</span> Vec<<span class='t'>usize</span>>.from_slice(&[<span class='n'>1</span>, <span class='n'>4</span>, <span class='n'>9</span>])!;
}
</code></pre>
<div class="code-snippet-filename">
main.ar
</div>
</article>
</body>
</html>